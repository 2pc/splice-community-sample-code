CREATE SCHEMA ML;

CREATE TABLE ML.MODEL (
	ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY ( START WITH 1, INCREMENT BY 1),
	DISPLAY_NAME VARCHAR (50),
	DESCRIPTION VARCHAR (500),
	STATUS CHAR(1) DEFAULT 'A',
	ENABLE_REAL_TIME_PREDICTIONS CHAR(1) DEFAULT 'Y',
	CREATE_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_USER VARCHAR(50),
	UPDATE_DT TIMESTAMP,
	UPDATE_USER VARCHAR(50)
);

CREATE TABLE ML.MODEL_VERSION (
	ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY ( START WITH 1, INCREMENT BY 1),
	MODEL_ID INT,
	VERSION INT,
	MODEL CLOB,
	MODEL_COEFFICIENTS VARCHAR(9999),
	MODEL_PLATFORM VARCHAR(20),
	MODEL_CREATE_DT DATE,
	EFFECTIVE_DATE TIMESTAMP,
	STATUS CHAR(1) DEFAULT 'A',
	CREATE_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_USER VARCHAR(50),
	UPDATE_DT TIMESTAMP,
	UPDATE_USER VARCHAR(50)
);

CREATE TABLE ML.MODEL_VERSION_PARAMETERS (
	ID INT NOT NULL GENERATED BY DEFAULT AS IDENTITY ( START WITH 1, INCREMENT BY 1),
	MODEL_ID INT,
	MODEL_VERSION_ID INT,
	FIELD VARCHAR(20),
	FIELD_LABEL VARCHAR(50),
	FIELD_DATA_TYPE VARCHAR(20),
	CREATE_DT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	CREATE_USER VARCHAR(50),
	UPDATE_DT TIMESTAMP,
	UPDATE_USER VARCHAR(50)
);

